_fwupdagent_cmd_list=(
	'get-devices'
	'get-updates'
	'get-upgrades'
	'security'
)

_fwupdagent_opts=(
	'--verbose'
)

_show_modifiers()
{
	COMPREPLY+=( $(compgen -W '${_fwupdagent_opts[@]}' -- "$cur") )
}

_fwupdagent()
{
	local cur prev command args
	COMPREPLY=()
	cur=`_get_cword`
	prev=${COMP_WORDS[COMP_CWORD-1]}
	command=${COMP_WORDS[1]}
	_count_args

	case $command in
	*)
		#find first command
		if [[ "$args" = "1" ]]; then
			COMPREPLY=( $(compgen -W '${_fwupdagent_cmd_list[@]}' -- "$cur") )
		fi
		;;
	esac

	#modifiers
	_show_modifiers

	return 0
}

complete -F _fwupdagent fwupdagent
